{
  "entities": {
    "Client": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Client",
      "type": "object",
      "description": "Represents a client in the real estate sales CRM.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the client."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this client."
        },
        "name": {
          "type": "string",
          "description": "Full name of the client."
        },
        "phone": {
            "type": "string",
            "description": "Client's phone number."
        },
        "cpf": {
            "type": "string",
            "description": "Client's CPF."
        },
        "status": {
            "type": "string",
            "enum": ["Frio", "Morno", "Quente"],
            "description": "Client's temperature status."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "phone",
        "status"
      ]
    },
    "Corretor": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Corretor",
      "type": "object",
      "description": "Represents a real estate broker/agent.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the agent."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this agent."
        },
        "name": {
          "type": "string",
          "description": "Full name of the agent."
        },
        "phone": {
            "type": "string",
            "description": "Agent's phone number."
        },
        "photoUrl": {
            "type": "string",
            "description": "URL of the agent's photo."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "phone"
      ]
    },
    "Development": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Development",
      "type": "object",
      "description": "Represents a property or real estate project.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the property."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this property."
        },
        "name": {
          "type": "string",
          "description": "Name of the property (e.g., Solar dos Pássaros)."
        },
        "construtora": {
          "type": "string",
          "description": "Name of the builder (e.g., Tenda, Vasco, MRV)."
        },
        "localizacao": {
          "type": "string",
          "description": "Location of the property."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "construtora",
        "localizacao"
      ]
    },
    "Sale": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Sale",
      "type": "object",
      "description": "Represents a sale record in the CRM.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "saleDate": { "type": "string", "format": "date-time" },
        "corretorId": { "type": "string" },
        "clientId": { "type": "string" },
        "developmentId": { "type": "string" },
        "construtora": { "type": "string" },
        "saleValue": { "type": "number" },
        "atoValue": { "type": "number" },
        "commissionPercentage": { "type": ["number", "null"] },
        "commission": { "type": "number" },
        "status": { "type": "string", "enum": ["Proposta / Cadastro", "Análise de Crédito / SPC", "Aguardando Assinatura", "Aguardando Pagamento Ato", "Venda Concluída / Paga", "Venda Cancelada / Caiu"] },
        "commissionStatus": { "type": "string", "enum": ["Pendente", "Pago"] },
        "observations": { "type": "string" },
        "combinado": { "type": "string" },
        "combinadoDate": { "type": ["string", "null"], "format": "date-time" },
        "clientName": { "type": "string" },
        "empreendimento": { "type": "string" }
      },
      "required": [
        "id", "userId", "saleDate", "corretorId", "clientId", "developmentId", "construtora",
        "saleValue", "atoValue", "commission", "status", "commissionStatus",
        "clientName", "empreendimento"
      ]
    },
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user (matches auth uid)."
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "User's email address."
        }
      },
      "required": ["id", "name", "email"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/clients/{clientId}",
        "definition": {
          "entityName": "Client",
          "schema": { "$ref": "#/entities/Client" },
          "description": "Stores all clients for all users."
        }
      },
      {
        "path": "/corretores/{corretorId}",
        "definition": {
          "entityName": "Corretor",
          "schema": { "$ref": "#/entities/Corretor" },
          "description": "Stores all brokers for all users."
        }
      },
       {
        "path": "/developments/{developmentId}",
        "definition": {
          "entityName": "Development",
          "schema": { "$ref": "#/entities/Development" },
          "description": "Stores all developments for all users."
        }
      },
      {
        "path": "/sales/{saleId}",
        "definition": {
          "entityName": "Sale",
          "schema": { "$ref": "#/entities/Sale" },
          "description": "Stores all sales for all users."
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": { "$ref": "#/entities/User" },
          "description": "Stores user profile information."
        }
      }
    ]
  }
}
